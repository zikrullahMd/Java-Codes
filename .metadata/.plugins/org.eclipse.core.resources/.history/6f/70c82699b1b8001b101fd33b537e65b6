import java.util.*;
import java.math.*;
import java.util.Map.Entry;
class Misc{
	
    public static void main(String[] args){
        Scanner in = new Scanner(System.in);
        int n = in.nextInt();
        int[] a = new int[n];
        for(int i = 0;i<n;i++) {
        	a[i] = in.nextInt();
        }
        int k = in.nextInt();
        int[] ans = new int[n-k];
        int f = 0;
        Deque<Integer> q = new LinkedList<>();
        for(int i = 0;i<k;i++) {
        	if(!q.isEmpty()) {
    			if(a[i] > q.peekFirst()) {
    				q.addFirst(a[i]);
    			}else {
    				q.addLast(a[i]);
    			}
    		}else {
    			q.addFirst(a[i]);
    		}
        }
        ans[f++] = q.peekFirst();
        for(int i = 1;i<n-k;i++) {
        	if(!q.isEmpty()) {
    			if(a[i+k] > q.peekFirst()) {
    				q.addFirst(a[i+k]);
    			}else {
    				q.addLast(a[i+k]);
    			}
    		}else {
    			q.addFirst(a[i+k]);
    		}
        	ans[f++] = q.peekFirst();
        }
        for(int i : ans) {
        	System.out.print(i+" ");
        }
    }
}
